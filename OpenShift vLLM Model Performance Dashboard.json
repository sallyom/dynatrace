{"version":17,"variables":[],"tiles":{"2":{"title":"Prompt Token Count Over Time","description":"","type":"data","subType":"dql-builder-metrics","query":"timeseries avg(vllm_request_prompt_tokens)\n| fieldsAdd vllm_request_prompt_tokens = \"avg(vllm_request_prompt_tokens)\"\n| fieldsAdd value.A = arrayAvg(`avg(vllm_request_prompt_tokens)`)","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"smooth","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["vllm_request_prompt_tokens"],"categoryAxisLabel":"vllm_request_prompt_tokens","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"swamps","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["vllm_request_prompt_tokens","interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(vllm_request_prompt_tokens)"]},"leftYAxisSettings":{"isLabelVisible":true,"label":"prompt tokens"},"seriesOverrides":[{"seriesId":["avg(vllm_request_prompt_tokens)"],"override":{"geometry":"line"}}],"legend":{"position":"bottom","hidden":false}},"singleValue":{"showLabel":true,"label":"Number","prefixIcon":"","recordField":"value.A","autoscale":true,"sparklineSettings":{"record":"avg(vllm_request_prompt_tokens)"},"alignment":"center","trend":{"trendType":"auto","upward":{"Default":"var(--dt-colors-charts-diverging-red-green-color-10-default, #2a7453)"},"downward":{"Default":"var(--dt-colors-charts-diverging-red-blue-color-02-default, #ae132d)"},"neutral":{"Default":"var(--dt-colors-charts-diverging-red-blue-color-10-default, #134fc9)"},"isVisible":true,"isRelative":true,"isLabelVisible":false,"label":""},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(vllm_request_prompt_tokens)"],"value":"sparkline","id":1741699188423}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"value.A"},"displayedFields":["vllm_request_prompt_tokens"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["vllm_request_prompt_tokens"]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"value.A"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"value.A"},"unitsOverrides":[{"identifier":"avg(vllm_request_prompt_tokens)","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"tokens","delimiter":false,"added":1741632695339}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_request_prompt_tokens","aggregation":"avg"}}]},"davis":{}},"3":{"title":"# of Running Requests","type":"data","subType":"dql-builder-metrics","query":"timeseries avg(vllm_num_requests_running)\n| fieldsAdd vllm_num_requests_running = \"avg(vllm_num_requests_running)\"\n| fieldsAdd value.A = arrayAvg(`avg(vllm_num_requests_running)`)","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["vllm_num_requests_running"],"categoryAxisLabel":"vllm_num_requests_running","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(vllm_num_requests_running)"]},"leftYAxisSettings":{}},"singleValue":{"showLabel":false,"label":"Requests Running","prefixIcon":"EventIcon","recordField":"value.A","autoscale":true,"sparklineSettings":{"record":"avg(vllm_num_requests_running)","variant":"line","isVisible":true,"lineType":"linear","showTicks":false,"color":{"Default":"var(--dt-colors-charts-categorical-color-07-default, #438fb1)"}},"alignment":"center","trend":{"trendType":"auto","upward":{"Default":"var(--dt-colors-charts-diverging-red-green-color-10-default, #2a7453)"},"downward":{"Default":"var(--dt-colors-charts-diverging-red-blue-color-02-default, #ae132d)"},"neutral":{"Default":"var(--dt-colors-charts-diverging-red-blue-color-10-default, #134fc9)"},"isVisible":false,"isRelative":true,"isLabelVisible":false,"label":""},"colorThresholdTarget":"value","isIconVisible":true},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(vllm_num_requests_running)"],"value":"sparkline","id":1741632312341}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"value.A"},"displayedFields":["vllm_num_requests_running"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["vllm_num_requests_running"]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"value.A"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"value.A"},"unitsOverrides":[{"identifier":"value.A","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1741700195013}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_num_requests_running","aggregation":"avg"}}]},"davis":{}},"6":{"title":"Time to first token","description":"It measures latency in model response.","type":"data","subType":"dql-builder-metrics","query":"timeseries avg(vllm_time_to_first_token_seconds)\n| fieldsAdd value.A = arrayAvg(`avg(vllm_time_to_first_token_seconds)`)","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"smooth","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval","value.A"],"categoryAxisLabel":"interval,value.A","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"blue-steel","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(vllm_time_to_first_token_seconds)"]},"leftYAxisSettings":{"isLabelVisible":true,"label":"time taken"},"legend":{"position":"bottom","hidden":false},"tooltip":{"seriesDisplayMode":"single-line"}},"singleValue":{"showLabel":false,"label":"value.A","prefixIcon":"","recordField":"value.A","autoscale":true,"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","sparklineSettings":{"record":"avg(vllm_time_to_first_token_seconds)","color":{"Default":"var(--dt-colors-charts-categorical-color-07-default, #438fb1)"},"isVisible":true,"lineType":"linear","showTicks":false,"variant":"line"}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(vllm_time_to_first_token_seconds)"],"value":"sparkline","id":1741633014036}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"value.A"},"displayedFields":["vllm_time_to_first_token_seconds"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"label":{"showLabel":false,"label":"value.A"},"icon":{"showIcon":false,"icon":""},"autoSelectVisualization":false,"dataMapping":{"value":"value.A"},"unitsOverrides":[{"identifier":"avg(vllm_time_to_first_token_seconds)","unitCategory":"angle","baseUnit":"second","displayUnit":"second","decimals":2,"suffix":"seconds","delimiter":false,"added":1741701702842},{"identifier":"value.A","unitCategory":"angle","baseUnit":"second","displayUnit":"second","decimals":2,"suffix":"ms","delimiter":false,"added":1741702779649}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_time_to_first_token_seconds","aggregation":"avg"}}]},"davis":{}},"7":{"title":"Throughput(Tokens/Second)","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(vllm_request_generation_tokens), avg(vllm_time_per_output_token_seconds) }\n| fieldsAdd value.A = arrayAvg(`avg(vllm_request_generation_tokens)`)\n| fieldsAdd value.B = arrayAvg(`avg(vllm_time_per_output_token_seconds)`)","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"smooth","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval","value.A","value.B"],"categoryAxisLabel":"interval,value.A,value.B","valueAxis":["value.A","value.B"],"valueAxisLabel":"value.A,value.B","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"end","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["avg(vllm_request_generation_tokens)","avg(vllm_time_per_output_token_seconds)","C","interval","value.A","value.B"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(vllm_request_generation_tokens)","avg(vllm_time_per_output_token_seconds)"]},"leftYAxisSettings":{"isLabelVisible":true,"label":"request generated tokens"},"legend":{"position":"bottom","hidden":false},"bandChartSettings":{"lower":"avg(vllm_request_generation_tokens)","upper":"avg(vllm_time_per_output_token_seconds)"},"tooltip":{"variant":"single","seriesDisplayMode":"single-line"}},"singleValue":{"showLabel":false,"label":"Throughpu","prefixIcon":"","recordField":"value.A","autoscale":true,"sparklineSettings":{"record":"avg(vllm_request_generation_tokens)","color":{"Default":"var(--dt-colors-charts-categorical-color-07-default, #438fb1)"},"isVisible":true,"lineType":"linear","showTicks":false,"variant":"line"},"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(vllm_request_generation_tokens)"],"value":"sparkline","id":1741703123488}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"value.A"},"displayedFields":["vllm_request_generation_tokens","vllm_time_per_output_token_seconds"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"value.B","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"autoSelectVisualization":false,"dataMapping":{"value":"value.A"},"label":{"showLabel":true,"label":"value.A"},"unitsOverrides":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_request_generation_tokens","aggregation":"avg"}},{"id":"B","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_time_per_output_token_seconds","aggregation":"avg"}},{"id":"C","isEnabled":false,"datatype":"expression","expression":"(A/B)"}]},"davis":{}},"9":{"title":"","type":"markdown","content":"#### Service Health and Performance"},"10":{"title":"# of Request Waiting","type":"data","subType":"dql-builder-metrics","query":"timeseries avg(vllm_num_requests_waiting)\n| fieldsAdd value.A = arrayAvg(`avg(vllm_num_requests_waiting)`)","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval","value.A"],"categoryAxisLabel":"interval,value.A","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(vllm_num_requests_waiting)"]},"leftYAxisSettings":{}},"singleValue":{"showLabel":false,"label":"Requests Waiting","prefixIcon":"","recordField":"value.A","autoscale":true,"sparklineSettings":{"record":"avg(vllm_num_requests_waiting)","variant":"line","isVisible":true,"lineType":"linear","showTicks":false,"color":{"Default":"var(--dt-colors-charts-categorical-color-07-default, #438fb1)"}},"alignment":"center","trend":{"trendType":"auto","upward":{"Default":"var(--dt-colors-charts-diverging-red-green-color-10-default, #2a7453)"},"downward":{"Default":"var(--dt-colors-charts-diverging-red-blue-color-02-default, #ae132d)"},"neutral":{"Default":"var(--dt-colors-charts-diverging-red-blue-color-10-default, #134fc9)"},"isVisible":false,"isRelative":true,"isLabelVisible":false,"label":""},"colorThresholdTarget":"value","isIconVisible":true},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(vllm_num_requests_waiting)"],"value":"sparkline","id":1741881542589}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"value.A"},"displayedFields":["vllm_num_requests_waiting"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"autoSelectVisualization":false,"dataMapping":{"value":"value.A"},"label":{"showLabel":true,"label":"value.A"},"unitsOverrides":[{"identifier":"value.A","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1741703967000}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_num_requests_waiting","aggregation":"avg"}}]},"davis":{}},"11":{"title":"","type":"data","query":"data record(timeframe = timeframe(from:now()-17h, to:now()), interval = 1h, values = array(0, 1, 0, -1, 0, 1, 0))\n| fieldsAdd icon = \"Llama\"","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["icon"],"categoryAxisLabel":"icon","valueAxis":["interval"],"valueAxisLabel":"interval","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["values"]},"leftYAxisSettings":{}},"singleValue":{"showLabel":false,"label":"icon","prefixIcon":"","recordField":"icon","autoscale":true,"sparklineSettings":{"record":"values","variant":"line","isVisible":false,"lineType":"linear","showTicks":false,"color":{"Default":"var(--dt-colors-charts-categorical-color-07-default, #438fb1)"}},"alignment":"center","trend":{"trendType":"auto","upward":{"Default":"var(--dt-colors-charts-diverging-red-green-color-10-default, #2a7453)"},"downward":{"Default":"var(--dt-colors-charts-diverging-red-blue-color-02-default, #ae132d)"},"neutral":{"Default":"var(--dt-colors-charts-diverging-red-blue-color-10-default, #134fc9)"},"isVisible":false,"isRelative":true,"isLabelVisible":false,"label":""},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["values"],"value":"sparkline","id":1741704188301}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"icon"},"displayedFields":["icon"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["icon"]},"valueBoundaries":{"min":"auto","max":"auto"},"autoSelectVisualization":false,"dataMapping":{"value":"interval"},"label":{"showLabel":true,"label":"interval"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"12":{"title":"E2E Request Latency","description":"Critical for tracking model response times and optimizing performance.","type":"data","subType":"dql-builder-metrics","query":"timeseries avg(vllm_e2e_request_latency_seconds)\n| fieldsAdd vllm_e2e_request_latency_seconds = \"avg(vllm_e2e_request_latency_seconds)\"\n| fieldsAdd value.A = arrayAvg(`avg(vllm_e2e_request_latency_seconds)`)","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["vllm_e2e_request_latency_seconds"],"categoryAxisLabel":"vllm_e2e_request_latency_seconds","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"swamps","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(vllm_e2e_request_latency_seconds)"]},"leftYAxisSettings":{"isLabelVisible":true,"label":"model response time"},"legend":{"position":"bottom","hidden":false}},"singleValue":{"showLabel":true,"label":"value.A","prefixIcon":"","recordField":"value.A","autoscale":true,"sparklineSettings":{"record":"avg(vllm_e2e_request_latency_seconds)"},"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(vllm_e2e_request_latency_seconds)"],"value":"sparkline","id":1741808699858}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"value.A"},"displayedFields":["vllm_e2e_request_latency_seconds"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":["vllm_e2e_request_latency_seconds"]},"valueBoundaries":{"min":"auto","max":"auto"},"autoSelectVisualization":false,"dataMapping":{"value":"value.A"},"label":{"showLabel":true,"label":"value.A"},"unitsOverrides":[{"identifier":"avg(vllm_e2e_request_latency_seconds)","unitCategory":"angle","baseUnit":"second","displayUnit":"second","decimals":0,"suffix":"s","delimiter":false,"added":1741809141047}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_e2e_request_latency_seconds","aggregation":"avg"}}]},"davis":{}},"14":{"title":"","type":"markdown","content":"#### Service Quality"},"15":{"title":"GPU Usage","type":"data","subType":"dql-builder-metrics","query":"timeseries avg(vllm_gpu_cache_usage_perc)\n| fieldsAdd value.A = arrayAvg(`avg(vllm_gpu_cache_usage_perc)`)","visualization":"lineChart","visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval","value.A"],"categoryAxisLabel":"interval,value.A","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(vllm_gpu_cache_usage_perc)"]},"leftYAxisSettings":{},"legend":{"position":"bottom","hidden":false}},"singleValue":{"showLabel":false,"label":"GPU Usage","prefixIcon":"TechnologiesIcon","recordField":"value.A","autoscale":true,"sparklineSettings":{"record":"avg(vllm_gpu_cache_usage_perc)","variant":"line","lineType":"smooth","showTicks":false,"color":{"Default":"var(--dt-colors-charts-categorical-color-07-default, #438fb1)"},"isVisible":true},"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(vllm_gpu_cache_usage_perc)"],"value":"sparkline","id":1743083436627}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"value.A"},"displayedFields":["vllm_gpu_cache_usage_perc"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"dataMapping":{"value":"value.A"},"label":{"showLabel":true,"label":"value.A"},"unitsOverrides":[{"identifier":"value.A","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1741889890785}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_gpu_cache_usage_perc","aggregation":"avg"}}]},"davis":{}},"16":{"title":"Avg Inference Time","type":"data","subType":"dql-builder-metrics","query":"timeseries avg(vllm_request_inference_time_seconds)\n| fieldsAdd value.A = arrayAvg(`avg(vllm_request_inference_time_seconds)`)","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval","value.A"],"categoryAxisLabel":"interval,value.A","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(vllm_request_inference_time_seconds)"]},"leftYAxisSettings":{"isLabelVisible":true,"label":"vllm_request_inference_time_seconds"}},"singleValue":{"showLabel":false,"prefixIcon":"","recordField":"value.A","autoscale":true,"sparklineSettings":{"record":"avg(vllm_request_inference_time_seconds)","color":{"Default":"var(--dt-colors-charts-categorical-color-07-default, #438fb1)"},"isVisible":true,"lineType":"linear","showTicks":false,"variant":"line"},"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","label":"value.A"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(vllm_request_inference_time_seconds)"],"value":"sparkline","id":1741890487751}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{"value":"value.A"},"displayedFields":["vllm_request_inference_time_seconds"],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"blue"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"autoSelectVisualization":false,"dataMapping":{"value":"value.A"},"label":{"showLabel":true,"label":"value.A"},"unitsOverrides":[{"identifier":"value.A","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":2,"suffix":"s","delimiter":false,"added":1741890518657}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_request_inference_time_seconds","aggregation":"avg"}}]},"davis":{},"segments":{"tileSegments":[],"tileSegmentsEnabled":false}},"17":{"title":"Completion Tokens Over Time","type":"data","query":"timeseries avg(vllm_request_generation_tokens)","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval"],"categoryAxisLabel":"interval","valueAxis":["interval"],"valueAxisLabel":"interval","tooltipVariant":"single"},"colorPalette":"apdex","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(vllm_request_generation_tokens)"]},"leftYAxisSettings":{"isLabelVisible":true,"label":"generated tokens"},"legend":{"position":"bottom","hidden":false}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["avg(vllm_request_generation_tokens)"],"value":"sparkline","id":1743002338320}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"autoSelectVisualization":true,"unitsOverrides":[{"identifier":"avg(vllm_request_generation_tokens)","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"tokens","delimiter":false,"added":1743002404725}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"18":{"title":"Total Inference Requests","type":"data","subType":"dql-builder-metrics","query":"timeseries sum(vllm_request_success_total)\n| fieldsAdd value.A = arrayAvg(`sum(vllm_request_success_total)`)","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval","value.A"],"categoryAxisLabel":"interval,value.A","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"apdex","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["sum(vllm_request_success_total)"]},"leftYAxisSettings":{"isLabelVisible":true,"label":"requests"},"legend":{"position":"bottom","hidden":false}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["sum(vllm_request_success_total)"],"value":"sparkline","id":1743005466441}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"autoSelectVisualization":true,"unitsOverrides":[{"identifier":null,"unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1743002508037}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_request_success_total","aggregation":"sum"}}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"20":{"title":"# of Requests Swapped","type":"data","subType":"dql-builder-metrics","query":"timeseries sum(vllm_num_requests_swapped)\n| fieldsAdd value.A = arrayAvg(`sum(vllm_num_requests_swapped)`)","visualization":"singleValue","visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval","value.A"],"categoryAxisLabel":"interval,value.A","valueAxis":["value.A"],"valueAxisLabel":"value.A","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["sum(vllm_num_requests_swapped)"]},"leftYAxisSettings":{}},"singleValue":{"showLabel":false,"label":"value.A","prefixIcon":"CycleIcon","recordField":"value.A","autoscale":true,"sparklineSettings":{"record":"sum(vllm_num_requests_swapped)","color":{"Default":"var(--dt-colors-charts-categorical-color-07-default, #438fb1)"},"isVisible":true,"lineType":"linear","showTicks":false,"variant":"line"},"alignment":"center","trend":{"trendType":"auto","upward":{"Default":"var(--dt-colors-charts-diverging-red-green-color-10-default, #2a7453)"},"downward":{"Default":"var(--dt-colors-charts-diverging-red-blue-color-02-default, #ae132d)"},"neutral":{"Default":"var(--dt-colors-charts-diverging-red-blue-color-10-default, #134fc9)"},"isVisible":false,"isRelative":true,"isLabelVisible":false,"label":""},"colorThresholdTarget":"value","isIconVisible":true},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["sum(vllm_num_requests_swapped)"],"value":"sparkline","id":1743003068919}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"unitsOverrides":[{"identifier":null,"unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1743003110770}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_num_requests_swapped","aggregation":"sum"}}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"21":{"title":"Estimated Inference Cost (USD) Over Time","description":"Prompt token price = $0.0025\nGeneration token price = $0.0075","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(vllm_prompt_tokens_total), sum(vllm_generation_tokens_total) }\n| fieldsAdd value.A = arrayAvg(`sum(vllm_prompt_tokens_total)`)\n| fieldsAdd value.B = arrayAvg(`sum(vllm_generation_tokens_total)`)\n| fieldsAdd C = (`sum(vllm_prompt_tokens_total)`[] * 0.0025) / 1000 + (`sum(vllm_generation_tokens_total)`[] * 0.0075) / 1000","visualization":"singleValue","visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxis":["interval","value.A","value.B"],"categoryAxisLabel":"interval,value.A,value.B","valueAxis":["value.A","value.B"],"valueAxisLabel":"value.A,value.B","tooltipVariant":"single"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","bandChartSettings":{"lower":"sum(vllm_prompt_tokens_total)","upper":"sum(vllm_generation_tokens_total)"},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval","value.A","value.B"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["sum(vllm_prompt_tokens_total)","sum(vllm_generation_tokens_total)","C"]},"leftYAxisSettings":{"isLabelVisible":true,"label":"USD ($)"}},"singleValue":{"showLabel":false,"label":"value.A","prefixIcon":"MoneyIcon","recordField":"value.A","autoscale":true,"sparklineSettings":{"record":"D","color":{"Default":"var(--dt-colors-charts-categorical-color-07-default, #438fb1)"},"isVisible":true,"lineType":"linear","showTicks":false,"variant":"line"},"alignment":"center","trend":{"trendType":"auto","isVisible":true},"colorThresholdTarget":"value","isIconVisible":true},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["sum(vllm_prompt_tokens_total)","sum(vllm_generation_tokens_total)","C"],"value":"sparkline","id":1743003770227}]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"value.A","rangeAxis":""},{"valueAxis":"value.B","rangeAxis":""},{"valueAxis":"interval","rangeAxis":""}],"variant":"single","truncationMode":"middle","displayedFields":[]},"valueBoundaries":{"min":"auto","max":"auto"},"unitsOverrides":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"13.2.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_prompt_tokens_total","aggregation":"sum"}},{"id":"B","isEnabled":true,"datatype":"metrics","metric":{"key":"vllm_generation_tokens_total","aggregation":"sum"}},{"id":"C","isEnabled":true,"datatype":"expression","expression":"(A * 0.0025) / 1000 + (B * 0.0075) / 1000"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"22":{"title":"Traces","type":"data","query":"fetch spans\n// | filter service.name == \"llama-stack\"  // Filtering for the service\n// | fieldsAdd traceId = trace.id  // Adding trace ID for reference\n// | fieldsAdd durationMs = duration  // Duration of the trace\n// | fieldsAdd request.is_failed == \"false\"\n// | fieldsAdd request.is_failed == \"Success\"\n// | fieldsAdd request.is_failed == \"Failure\"\n// | fieldsAdd sdkLanguage = telemetry.sdk.language  // SDK language used\n// | fieldsAdd sdkVersion = telemetry.sdk.version  // SDK version\n// | fieldsAdd rootSpan = request.is_root_span  // Identifying if it's the root span\n// | fieldsAdd traceSource = dt.openpipeline.source  // Trace source (e.g., `/api/v2/otlp/v1/traces`)\n// | fieldsAdd ingestSize = asLong(dt.ingest.size)  // Ingested size of the trace\n// | summarize {\n//     responseTime = avg(durationMs)\n// }, by: {traceId, service=service.name, endpoint=endpoint.name, requestFailed=request.is_failed}\n// | sort responseTime desc\n// | limit 20\n","visualization":"recordView","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","valueAxisScale":"linear"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisScaling":"analyzedTimeframe","xAxisLabel":"start_time","xAxisIsLabelVisible":false,"hiddenLegendFields":["otel.scope","span","service","telemetry.sdk","endpoint","dt.ingest.size","dt.retain.size","duration","__ttl__","span.events"],"leftYAxisSettings":{},"fieldMapping":{"timestamp":"start_time","leftAxisValues":["dt.ingest.size"]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":{"position":"auto"},"yAxis":{"label":"Frequency","isLabelVisible":true,"scale":"linear"},"colorPalette":"categorical","dataMappings":[],"variant":"single","truncationMode":"middle"},"valueBoundaries":{"min":"auto","max":"auto"},"autoSelectVisualization":true,"recordView":{"fieldsWidth":200}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}}},"layouts":{"2":{"x":0,"y":11,"w":12,"h":5},"3":{"x":10,"y":1,"w":7,"h":3},"6":{"x":8,"y":8,"w":8,"h":3},"7":{"x":0,"y":8,"w":8,"h":3},"9":{"x":0,"y":0,"w":24,"h":1},"10":{"x":10,"y":4,"w":7,"h":3},"11":{"x":0,"y":1,"w":3,"h":6},"12":{"x":12,"y":11,"w":12,"h":5},"14":{"x":0,"y":7,"w":24,"h":1},"15":{"x":16,"y":8,"w":8,"h":3},"16":{"x":17,"y":4,"w":7,"h":3},"17":{"x":0,"y":16,"w":12,"h":5},"18":{"x":12,"y":16,"w":12,"h":5},"20":{"x":17,"y":1,"w":7,"h":3},"21":{"x":3,"y":1,"w":7,"h":6},"22":{"x":0,"y":21,"w":24,"h":7}},"importedWithCode":false,"settings":{}}